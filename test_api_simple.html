<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple API Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #1e1e1e;
            color: #fff;
        }
        button {
            background: #4a9eff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 5px;
        }
        .result {
            margin-top: 10px;
            padding: 15px;
            background: #2d2d2d;
            border-radius: 4px;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 12px;
        }
        .success { color: #4caf50; }
        .error { color: #f44336; }
        .info { color: #ff9800; }
        a { color: #4a9eff; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <h1>ğŸ”§ API Connection Test</h1>
    
    <div style="background: #2d2d2d; padding: 15px; border-radius: 8px; margin: 20px 0;">
        <h3>âš ï¸ Ã–nemli Not</h3>
        <p>Bu sayfa <code>file://</code> protokolÃ¼ ile aÃ§Ä±ldÄ±ÄŸÄ± iÃ§in CORS hatasÄ± alabilirsiniz.</p>
        <p><strong>Ã‡Ã¶zÃ¼m:</strong> AÅŸaÄŸÄ±daki linkleri direkt browser'da aÃ§Ä±n veya extension'Ä± kullanÄ±n.</p>
    </div>
    
    <h2>Test 1: Health Check (Direkt Link)</h2>
    <p>AÅŸaÄŸÄ±daki linki yeni sekmede aÃ§Ä±n:</p>
    <a href="https://youtoubeseo.streamlit.app?_api=true&action=health" target="_blank">
        https://youtoubeseo.streamlit.app?_api=true&action=health
    </a>
    <p style="color: #888; font-size: 12px; margin-top: 5px;">
        Beklenen: JSON response gÃ¶rmelisiniz: <code>{"status": "ok", "service": "YouTube SEO AGI Tool API", "version": "1.0.0"}</code>
    </p>
    
    <h2>Test 2: Browser Console Test</h2>
    <p>F12 â†’ Console â†’ AÅŸaÄŸÄ±daki kodu yapÄ±ÅŸtÄ±rÄ±n:</p>
    <div class="result info">
fetch('https://youtoubeseo.streamlit.app?_api=true&action=health')
  .then(r => r.text())
  .then(text => {
    console.log('Response:', text);
    // Try to parse JSON
    try {
      const json = JSON.parse(text);
      console.log('Parsed JSON:', json);
    } catch(e) {
      console.log('Not JSON, trying to extract...');
      const match = text.match(/&lt;pre[^&gt;]*id=["']json-response["'][^&gt;]*&gt;([\s\S]*?)&lt;\/pre&gt;/);
      if (match) {
        console.log('Found JSON in pre tag:', JSON.parse(match[1]));
      }
    }
  })
  .catch(err => console.error('Error:', err));
    </div>
    
    <h2>Test 3: Extension Test</h2>
    <p>Extension'Ä± kullanarak test edin:</p>
    <ol>
        <li>Chrome'da <code>chrome://extensions/</code> aÃ§Ä±n</li>
        <li>Extension'Ä± bulun ve "Reload" yapÄ±n</li>
        <li>Herhangi bir YouTube videosu aÃ§Ä±n</li>
        <li>Extension'Ä±n Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol edin</li>
    </ol>
    
    <h2>Test 4: Python Script Test</h2>
    <p>Python ile test edin:</p>
    <div class="result info">
import requests

url = "https://youtoubeseo.streamlit.app?_api=true&action=health"
response = requests.get(url)
print("Status:", response.status_code)
print("Response:", response.text)
    </div>
    
    <h2>Test 5: cURL Test (Terminal)</h2>
    <p>Terminal'de Ã§alÄ±ÅŸtÄ±rÄ±n:</p>
    <div class="result info">
curl "https://youtoubeseo.streamlit.app?_api=true&action=health"
    </div>
    
    <hr style="margin: 30px 0; border-color: #444;">
    
    <h2>ğŸ” Sorun Giderme</h2>
    
    <h3>EÄŸer "Failed to fetch" hatasÄ± alÄ±yorsanÄ±z:</h3>
    <ul>
        <li>âœ… <strong>file:// protokolÃ¼ sorunu:</strong> HTML dosyasÄ±nÄ± direkt aÃ§mak yerine, yukarÄ±daki linkleri kullanÄ±n</li>
        <li>âœ… <strong>CORS sorunu:</strong> Extension'lar CORS'tan etkilenmez, extension'Ä± kullanÄ±n</li>
        <li>âœ… <strong>Network sorunu:</strong> Ä°nternet baÄŸlantÄ±nÄ±zÄ± kontrol edin</li>
        <li>âœ… <strong>App down:</strong> <a href="https://youtoubeseo.streamlit.app" target="_blank">App'i direkt aÃ§Ä±n</a> ve Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol edin</li>
    </ul>
    
    <h3>EÄŸer JSON parse hatasÄ± alÄ±yorsanÄ±z:</h3>
    <ul>
        <li>Streamlit HTML iÃ§inde JSON dÃ¶ndÃ¼rÃ¼yor olabilir</li>
        <li>Extension'daki parse fonksiyonu bunu handle ediyor</li>
        <li>Manuel test iÃ§in yukarÄ±daki linkleri kullanÄ±n</li>
    </ul>
    
    <h3>Extension Test AdÄ±mlarÄ±:</h3>
    <ol>
        <li>Extension'Ä± yÃ¼kle/reload et</li>
        <li>YouTube'da bir video aÃ§</li>
        <li>F12 â†’ Console â†’ Extension loglarÄ±nÄ± kontrol et</li>
        <li>Extension popup'Ä±nÄ± aÃ§ ve test et</li>
    </ol>
</body>
</html>

